<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Home-Absam</title>

    <link rel="stylesheet" type="text/css" href="../assets//fontawesome/css/all.css" />
    <link rel="stylesheet" type="text/css" href="../assets/bootstrap//dist//css//bootstrap.min.css" />
    <link rel="stylesheet" type="text/css" href="../assets/plugin/css/style.css" />
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Open+Sans&display=swap" rel="stylesheet">
</head>
<body>
    <header class="sticky-top">
        <nav class="p-3 bg-color d-flex align-items-center">
            <h5 class="font-weight-bold">ABSAM CPANEL</h5>
            <button type="button" class="ml-auto btn btn-outline-danger">
                <i class="fas fa-power-off"></i> Logout
            </button>
        </nav>
        <nav class="p-3 bg-light">
            <div class="col-md-9 mx-auto">
                <a href="index.html" class="btn btn-outline-success mb-2">
                    <i class="fas fa-bars"></i>
                    Dashboard
                </a>
                <a href="add-project.html" class="btn btn-outline-success mb-2">
                    <i class="fas fa-plus"></i>
                    Add Projects
                </a>
                <a href="all-project.html" class="btn btn-outline-success mb-2">
                    <i class="fas fa-folder"></i>
                    View all Projects
                </a>
            </div>
        </nav>
    </header>
    <main class="">
        <div class="container">
            <div class="col-md-8 mx-auto">
                <div class="card">
                    <form enctype="multipart/form-data" class="card-body">
                        <h5 class="mb-3 font-weight-bold">Edit project</h5>
                        <div class="form-group p-1 mb-0">
                            <label class="form-label mb-0">Title</label>
                            <input type="text" class="form-control" placeholder="Title" />
                        </div>
                        <div class="row">
                            <div class="form-group col-md-6 p-1 mb-0">
                                <label class="form-label mb-1">App Type</label>
                                <select class="form-control">
                                    <option value="">Web Application</option>
                                    <option value="">Web API</option>
                                    <option value="">Web Design</option>
                                </select>
                            </div>
                            <div class="form-group p-1 col-md-6 mb-0">
                                <label class="form-label mb-1">Github url</label>
                                <input type="url" class="form-control" placeholder="Github Url" />
                            </div>
                        </div>
                        <div class="form-group p-1">
                            <label class="form-label mb-1">Photo</label>
                            <input type="file" id="file" multiple maxlength="4" min="2" class="form-control" placeholder="Programming Language" />
                        </div>
                        <div class="form-group p-1">
                            <label class="form-label mb-1">Languages used</label>
                            <input type="text" class="form-control" placeholder="Programming Language" />
                        </div>
                        <div class="form-group p-1">
                            <label class="form-label mb-1">Use Cases</label>
                            <textarea class="form-control" rows="4"></textarea>
                        </div>
                        <div class="form-group p-1">
                            <label class="form-label mb-1">Description</label>
                            <textarea class="form-control" rows="5"></textarea>
                        </div>
                        <section class="">
                            <div class="form-group">
                                <label class="form-label">Collaborations</label>
                                <div class="card p-2">
                                    <div class="fields">
                                        <div class="row fst mb-3">
                                            <div class="col-md-4 mb-2">
                                                <input type="text" class="form-control" placeholder="Name" />
                                            </div>
                                            <div class="col-md-4 mb-2">
                                                <input type="text" class="form-control" placeholder="Github link" />
                                            </div>
                                            <div class="col-md-4 mb-2">
                                                <input type="text" class="form-control" placeholder="Twitter link" />
                                            </div>
                                            <div class="col-md-4 mb-2">
                                                <input type="text" class="form-control" placeholder="Linkedin link" />
                                            </div>
                                            <div class="col-md-4">
                                                <button type="button" class="dispose btn btn-danger">
                                                    <i class="fas fa-trash"></i>
                                                </button>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="mt-3">
                                        <button type="button" class="col-6 btn btn-info add-btn">
                                            <i class="fas fa-plus"></i>
                                        </button>
                                    </div>
                                </div>
                            </div>
                        </section>
                        <div class="form-group p-1 text-right">
                            <button type="submit" class="btn bg-color outlined">Update</button>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </main>

    <script type="text/javascript" src="../assets/plugin/js/jquery-3.4.1.slim.min.js"></script>
    <script type="text/javascript" src="../assets/plugin/js/popper.min.js"></script>
    <script type="text/javascript" src="../assets/bootstrap/dist/js/bootstrap.min.js"></script>
    <script src="https://unpkg.com/sweetalert/dist/sweetalert.min.js"></script>

    <script>

            window.addEventListener("load", () => {
                reloadScript();
                // getCourse()
            });
            var field = document.querySelector('.fields');
            var fst = document.querySelector('.fst');

            function createFormInput(length) {
                var elem = `
                    <div class="row mb-3 fst">
                        <div class="col-md-4 mb-2">
                            <input type="text" class="form-control" placeholder="Name" />
                        </div>
                        <div class="col-md-4 mb-2">
                            <input type="text" class="form-control" placeholder="Github link" />
                        </div>
                        <div class="col-md-4 mb-2">
                            <input type="text" class="form-control" placeholder="Twitter link" />
                        </div>
                        <div class="col-md-4 mb-2">
                            <input type="text" class="form-control" placeholder="Linkedin link" />
                        </div>
                        <div class="col-md-4">
                            <button type="button" class="dispose btn btn-danger">
                                <i class="fas fa-trash"></i>
                            </button>
                        </div>
                    </div>
                `;
                fst.insertAdjacentHTML("afterend", elem);
                reloadScript();
            }

            document.querySelector('.add-btn').onclick = function(event) {
                createFormInput();
            }

            document.querySelector(".fields").childNodes.forEach((arg) => {
                if (arg.nodeName == '#text') {
                    arg.remove();
                }
            });

            function reloadScript() {
                // var crs = document.querySelectorAll(".crs");
                // document.querySelectorAll(".lvl").forEach((arg, index) => {
                //     arg.addEventListener("change", () => {
                //         getCourse(crs[index], arg);
                //     });
                // });
                document.querySelector(".fields").childNodes.forEach((arg) => {
                    if (arg.nodeName == '#text') {
                        arg.remove();
                    }
                });
                fst = document.querySelector('.fst')
                var field = document.querySelector('.fields');
                if(field.childNodes.length == 1){
                    document.querySelectorAll('.dispose')[0].disabled=true;
                }else{
                    document.querySelectorAll('.dispose')[0].disabled=false;
                }
                document.querySelectorAll('.dispose').forEach((arg, index) => {
                    arg.onclick = (event) => {
                        console.log(field.childNodes.length);
                        field.removeChild(field.childNodes[index])
                        reloadScript();
                    }
                })
            }


            $(document).ready(function(){
                $("#file").change(function(){

                })
            });
    </script>
</body>
</html>